{"version":3,"file":"interval-manager.js","sourceRoot":"","sources":["../../src/extras/interval-manager.ts"],"names":[],"mappings":";;;AAAA,MAAa,eAAe;IAA5B;QAEU,cAAS,GAAqB,EAAE,CAAC;IA0B3C,CAAC;IAxBC,WAAW,CACP,EAA8B,EAC9B,UAAkB;QAGpB,MAAM,QAAQ,GAAG,WAAW,CAAC,KAAK,IAAI,EAAE;YACtC,IAAI;gBACF,MAAM,EAAE,EAAE,CAAC;aACZ;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,CAAC,6BAA6B,EAAE,KAAK,CAAC,CAAC;aACrD;QACH,CAAC,EAAE,UAAU,CAAC,CAAC;QAEf,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC9B,OAAO,QAA0C,CAAC;IACpD,CAAC;IAED,cAAc;QACZ,KAAK,MAAM,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;YACrC,aAAa,CAAC,QAAQ,CAAC,CAAC;SACzB;QACD,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACtB,CAAC;CAEF;AA5BD,0CA4BC","sourcesContent":["export class IntervalManager {\n\n  private intervals: NodeJS.Timeout[] = [];\n\n  setInterval(\n      cb: () => (any | Promise<any>),\n      intervalMs: number,\n  ): ReturnType<typeof setInterval> {\n\n    const interval = setInterval(async () => {\n      try {\n        await cb();\n      } catch (error) {\n        console.error('Error in interval callback:', error);\n      }\n    }, intervalMs);\n\n    this.intervals.push(interval);\n    return interval as ReturnType<typeof setInterval>;\n  }\n\n  clearIntervals() {\n    for (const interval of this.intervals) {\n      clearInterval(interval);\n    }\n    this.intervals = [];\n  }\n\n}\n"]}